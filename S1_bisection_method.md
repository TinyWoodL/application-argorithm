# 二分法

[TOC]

## 前言

本文主要介绍了二分法相关的概念。

    1、介绍如何在有序数组中快速查找特定元素（二分搜索）。
    2、利用递归快速实现二分搜索，一种被多种算法采用的技巧。
    3、（拓展）扩展出广泛应用的思想：分而治之
    4、（拓展）分治的例子：快速排序
    
## 二分搜索

    想象一个猜价格游戏：一件物品的价格在 0 ~ 100 之间，每次猜的值都会被告知是高了或者低了，直到猜到正确的数字为止。

__Q1__: 如何快速猜到价格？

二分搜索和猜价格游戏类似，是一种在有序数组中查找某一特定元素的搜索算法。

>[wiki](https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95)

## 示例代码

```
def binary_search(arr,start,end,hkey):
    if start > end:
        return -1
    mid = start + (end - start) / 2
    if arr[mid] > hkey:
        return binary_search(arr, start, mid - 1, hkey)
    if arr[mid] < hkey:
        return binary_search(arr, mid + 1, end, hkey)
    return mid
```

搜索从数组的中间元素开始，如果中间元素正好是要查找的元素，则搜索过程结束；如果某一特定元素大于或者小于中间元素，则在数组大于或小于中间元素的那一半中查找，而且跟开始一样从中间元素开始比较。如果在某一步骤数组为空，则代表找不到。这种搜索算法每一次比较都使搜索范围缩小一半。

平均时间复杂度为 <img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d">

__Q2__: 二分法同样可以用来解限定精度内的 x 的平方根，尝试如何实现。

>[牛顿迭代](https://zh.wikipedia.org/wiki/%E7%89%9B%E9%A1%BF%E6%B3%95) 是比二分更快解平方根的方法


下面是拓展
***

## 递归

在二分搜索的示例代码中，会发现搜索函数中调用了自身，这被称为递归。

递归函数有两个条件：基线条件和递归条件。

    1、递归条件指函数调用自己，即在二分搜索中的继续搜索大于或小于中间元素的那部份。
    2、基线条件指停止调用自己，即在示例中的找到值或超出上届。

## 分而治之

上面的二分搜索提供了一种解决问题的思路：我们可以将复杂问题缩小为若干小问题的集合，对小问题的解组合到一起就可以得到大问题的答案

在二分搜索中，每次通过比较中间值可以将搜索规模减半（递归条件），直到找到目标，返回结果（基线条件）。

```
devideAndConquer(n)
{
    if 是基本解： return 基本解的答案
    if 是可以拆分的大问题
        for 大问题 =》 nK 问题
            return devideAndConquer(n1) + devideAndConquer(n2) + devideAndConquer(nk);
}
```
    
>[wiki](https://zh.wikipedia.org/wiki/%E5%88%86%E6%B2%BB%E6%B3%95)

分治是很多高效算法的基础，如快速排序。

## 快速排序

快速排序使用分治法的策略
    
```
1、数组中没有或者只有一个元素 不用排序
2、数组中有2个元素 
3、数组中有3个元素 挑第一个元素作为哨兵， 剩下两个， 比他大的算一个数组， 比他小的又算一个数组， 结果就是 【小】 + 哨兵 + 【大】
4、数组中有4个元素 挑第一个元素作为哨兵， 剩下两个， 比他大的算一个数组， 比他小的又算一个数组， 结果就是 【小】 + 哨兵 + 【大】
5、数组中有n个元素时 ===
```

__Q3__:汉诺塔问题